---
export const prerender = true
import BaseLayout from "../layout/BaseLayout.astro";
import { getHomePage } from "../lib/api";
import type { HomePageQuery } from "../lib/types";
const homePage: HomePageQuery[] = await getHomePage()
let homePageContent = homePage[0].content.rendered

/**
 * 
 * For Dev only. Replaces absolute links with relative links
 * 
 */
homePageContent = homePageContent?.replaceAll('href="https://bikesandbrews.ca/', 'href="/')
---


<BaseLayout title="Tri-City Bikes and Brews">
	
	<div set:html={homePageContent}></div>

</BaseLayout>


<style is:global>



/* ---------- ---------- ---------- ----------  About section */
.about {
    margin-top: 10rem;
}

.about-content {
    padding: 2rem 2vw 4rem;
    color : #fff;
}

.about h2 {
    padding-inline : 1vw;
    color : hsl( var(--color-primary-300) ) ;
    font-family: var(--font-h1);
    font-size : 2.5rem;
    font-weight : 300;
}


.about p {
    margin-bottom : 1.5rem;
}

.about-image {
    text-align: center;
}

.about-image img {
    width : 90%;
    aspect-ratio: 1 / 1;
    object-fit: cover;
    transform: translateY(-4rem);
	border-radius: 0.5rem;
}

.about-grid {
	background-color: hsl( var(--color-primary-300) );
	border-radius: 0.5rem;
}

@media screen and (min-width : 800px) {
    .about {
        padding : 0;
    }


    .about h2 {
        position: absolute;
        top : -4rem;
        left : 1vw;
    }

    .about-content {
        padding-block : 2rem;
    }
    
    .about-grid {
        display: grid;
        grid-template-columns: 2fr 1fr;
        align-items: center;
    }

    .about p {
        /* max-width: calc(100% - 6rem); */
		max-width: 60ch;
    }

    .about-image img {
        aspect-ratio: initial;
        transform: scale(1.2) translateX(-6rem);
    }
}



/* ---------- ---------- ---------- ----------  Social Media section */

.social-media {
    margin-block : 8rem;

    background-color: hsl( var(--color-secondary-300) );
    font-size: 2rem;
    font-weight : 600;
    color : #fff;
}

.social-media-grid {
    display : flex;
    flex-wrap : wrap;
    justify-content: space-between;
    align-items: center;
    gap : 2rem;
    padding : 3rem;

}

.social-media-text {
    margin-inline : auto;
    min-width : 10ch;

    text-align : center;
}

.social-media-icons {
    display : flex;
    gap : 2rem;
    min-width : max-content;
    margin-inline : auto;
}


/* ---------- ---------- ---------- ----------  The Latest section */



.latest a {
    text-decoration: none;
}

.latest h2 {
    padding-inline : 2vw;
    
    color : hsl( var(--color-primary-300) );
    font-family: var(--font-h1);
    font-size : 2.5rem;
    font-weight : 300;    
}


.article-img {
    padding-inline : 1rem;
}

.article-img img {
    width : 100%;
}

.article-content {
    position: relative;
    padding-inline : 1rem;
}

.article-content h3 {
    margin-right : 120px;
}

.article-content h3 a {
    color : hsl( var(--color-primary-300) );
    font-size: 1.5rem;

} 

.article-tag {
    max-width: fit-content;
}

.article-tag a {
    color : hsl( var(--color-secondary-100) );
    font-weight: 600;
    text-transform: uppercase;
}

.article-tag a::before {
    content : '#';
}

.article-date {
    color : hsl( var(--color-primary-100) );
}


@media screen and (min-width : 600px) {

    .article-tag {
        position: absolute;
        top : 0.5rem;
        right : 0;
        left : auto;
        text-align : right;
    }



</style>